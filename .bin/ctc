#!/usr/bin/env bash
trap '' INT


help() {
    cat << EOF
Usage: ctc <file-name>

REQUIRED: (xclip)
With no file, read standard input. 

    -h --help       Display this help and exit
EOF
exit 0
}
copy() {
    echo "$1" | xclip -selection clipboard
    echo -e "[âœ¨] Copied to clipboard..."
}
from_stdin() {
    trap 'echo' INT
    in=$(cat)
    copy "$in"

}
from_file() {
    cat $1 | xclip -selection clipboard
    echo "[âœ¨] Copied to clipboard from $1"
}

case $1 in
    -h|--help)
        help
        ;;
esac


if [[ ! -f "/usr/bin/xclip" ]];
then 
    echo "[ðŸš¨] xclip required.."
    exit 0
fi

if [[ ! -f "$1" ]] 
then
    from_stdin
    exit 0
else
    from_file $1
fi
